(this["webpackJsonpreact-mobx-todo"]=this["webpackJsonpreact-mobx-todo"]||[]).push([[0],{174:function(t,e,n){"use strict";n.r(e);var r=n(4),c=n(0),a=n(25),i=n.n(a),o=n(11),s=n(6),u=n.n(s),d=n(13),l=n(35),f=n(36),b=n(10),h=n(193),j=function(){function t(){Object(l.a)(this,t),this.toaster=void 0,this.toaster=h.a}return Object(f.a)(t,[{key:"info",value:function(t){this.toaster.notify(t)}},{key:"success",value:function(t){this.toaster.success(t)}},{key:"warning",value:function(t){this.toaster.warning(t)}},{key:"danger",value:function(t){this.toaster.danger(t)}}]),t}(),p=n(70),O={all:"/todos?userId=1",id:function(t){return"/todos/".concat(t)}},v=1,m=!1,x=n.n(p).a.create({baseURL:"https://jsonplaceholder.typicode.com",timeout:1e4,headers:{"Content-Type":"application/json"}}),g=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.get(O.all);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),y=function(){var t=Object(d.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.post(O.all,{title:e,userId:v,completed:m});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),w=function(){var t=Object(d.a)(u.a.mark((function t(e,n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.patch(O.id(e),{title:n});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),k=function(){var t=Object(d.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.delete(O.id(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),T=function(){function t(){Object(l.a)(this,t),this.todos=[],this.fetching=!1,this.toaster=void 0,this.toaster=new j,Object(b.e)(this,{todos:b.f,fetching:b.f,fetchTodos:b.b,createTodo:b.b,updateTodo:b.b,deleteTodo:b.b})}return Object(f.a)(t,[{key:"fetchTodos",value:function(){var t=Object(d.a)(u.a.mark((function t(){var e,n,r=this;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.toggleFetching(),t.next=3,g();case 3:e=t.sent,n=e.data,Object(b.g)((function(){r.todos=n})),this.toggleFetching();case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"createTodo",value:function(){var t=Object(d.a)(u.a.mark((function t(e){var n,r,c=this;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y(e);case 3:n=t.sent,r=n.data,Object(b.g)((function(){c.todos=[].concat(Object(o.a)(c.todos),[r])})),this.toaster.success("Item added successfully!"),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0),this.toaster.danger("Error while adding item!");case 13:case"end":return t.stop()}}),t,this,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},{key:"updateTodo",value:function(){var t=Object(d.a)(u.a.mark((function t(e,n){var r,c,a=this;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w(e,n);case 3:r=t.sent,c=r.data,Object(b.g)((function(){a.todos=a.todos.map((function(t){return t.id===c.id?c:t}))})),this.toaster.success("Item updated successfully!"),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0),this.toaster.danger("Error while updating item!");case 13:case"end":return t.stop()}}),t,this,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()},{key:"deleteTodo",value:function(){var t=Object(d.a)(u.a.mark((function t(e){var n,r=this;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k(e);case 3:n=this.todos.find((function(t){return t.id===e})),Object(b.g)((function(){r.todos=r.todos.filter((function(t){return t.id!==n.id}))})),this.toaster.success("Item deleted successfully!"),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0),this.toaster.danger("Error while deleting item!");case 12:case"end":return t.stop()}}),t,this,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},{key:"toggleFetching",value:function(){var t=this;Object(b.g)((function(){t.fetching=!t.fetching}))}}]),t}(),C=Object(c.createContext)({}),S=new T,I=function(t){var e=t.children;return Object(r.jsx)(C.Provider,{value:{store:S},children:e})},z=n(19),E=n(20);function B(){var t=Object(z.a)(["\n  * {\n      box-sizing: border-box;\n  }\n\n  html {\n    font-size: 16px;\n  }\n\n  body {\n    margin: 0;\n    padding: 1rem;\n    min-height: 100vh;\n    background-color: #fafafa;\n  }\n"]);return B=function(){return t},t}var L=Object(E.a)(B()),M=n(194),D=n(45),F=n(185),A=n(74),J=n(189),R=n(69),q=function(t){return!!t.trim()};function N(){var t=Object(z.a)(["\n  width: 100%;\n"]);return N=function(){return t},t}var P=E.b.form(N()),U=function(t){var e=t.disabled,n=t.onSubmit,a=Object(A.a)({defaultValues:{title:""}}),i=a.register,o=a.handleSubmit,s=a.reset,u=Object(c.useCallback)((function(t){var e=t.title;n({title:void 0===e?"":e}),s({title:""})}),[n,s]);return Object(r.jsx)(P,{onSubmit:o(u),children:Object(r.jsxs)(D.a,{display:"flex",width:"100%",marginBottom:8,children:[Object(r.jsx)(J.a,{name:"title",placeholder:"Enter the task name...",size:400,height:32,width:"100%",disabled:e,ref:i({required:!0,validate:q})}),Object(r.jsx)(R.a,{type:"submit",marginLeft:8,appearance:"primary",disabled:e,children:"Add"})]})})},V=n(21),X=n(49),G=n(190),H=n(187),K=n(191),Q=n(192),W=n(195),Y=n(196),Z=function(t){var e=t.visible,n=t.deleting,a=t.onConfirm,i=t.onCloseComplete,o=Object(c.useMemo)((function(){return n?"Deliting...":"Delete"}),[n]);return Object(r.jsx)(W.a,{children:Object(r.jsx)(Y.a,{intent:"danger",title:"Are you sure?",isShown:e,isConfirmDisabled:n,confirmLabel:o,onConfirm:a,onCloseComplete:i,children:"Do you really want to delete this item? This action cannot be undone."})})},$=function(t){var e=t.data,n=t.updateTodo,a=t.deleteTodo,i=Object(c.useState)(e.title),o=Object(V.a)(i,2),s=o[0],u=o[1],d=Object(c.useState)(!1),l=Object(V.a)(d,2),f=l[0],b=l[1],h=Object(c.useState)(!1),j=Object(V.a)(h,2),p=j[0],O=j[1],v=Object(c.useState)(!1),m=Object(V.a)(v,2),x=m[0],g=m[1],y=Object(c.useMemo)((function(){return Object(r.jsx)(X.a,{size:400,children:s})}),[s]),w=Object(c.useMemo)((function(){return Object(r.jsx)(J.a,{value:s,spellCheck:!0,width:"100%",onChange:function(t){u(t.target.value)}})}),[s]),k=Object(c.useMemo)((function(){return f?w:y}),[f,w,y]),T=function(){return O((function(t){return!t}))},C=function(t){g((function(){return t}))};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(G.a,{display:"flex",alignItems:"center","justify-content":"space-between",border:"default",padding:8,marginBottom:8,children:[Object(r.jsx)(D.a,{display:"flex",flex:"1",children:k}),Object(r.jsxs)(D.a,{display:"flex",marginLeft:8,children:[Object(r.jsx)(H.a,{icon:K.a,height:24,marginRight:8,onClick:function(){f&&(q(s)?n({id:e.id,title:s}):u(e.title)),b((function(t){return!t}))}}),Object(r.jsx)(H.a,{icon:Q.a,height:24,intent:"danger",onClick:function(){T()}})]})]}),Object(r.jsx)(Z,{visible:p,deleting:x,onConfirm:function(){C(!0),a({id:e.id})},onCloseComplete:function(){T(),C(!1)}})]})};function _(){var t=Object(z.a)(["\n  list-style: none;\n"]);return _=function(){return t},t}function tt(){var t=Object(z.a)(["\n  margin: 0;\n  padding: 0;\n"]);return tt=function(){return t},t}var et=E.b.ul(tt()),nt=E.b.li(_()),rt=function(t){var e=t.data,n=t.updateTodo,c=t.deleteTodo;return Object(r.jsx)(et,{children:e.map((function(t){return Object(r.jsx)(nt,{children:Object(r.jsx)($,{data:t,updateTodo:n,deleteTodo:c})},t.title)}))})},ct=n(175),at=function(){return Object(r.jsx)(ct.a,{size:32,marginX:"auto"})};function it(){var t=Object(z.a)(["\n  width: 100%;\n  max-width: 500px;\n"]);return it=function(){return t},t}var ot=E.b.section(it()),st=Object(M.a)((function(){var t=Object(c.useContext)(C).store;Object(c.useEffect)((function(){Object(b.c)((function(){t.fetchTodos()}))}),[t]);var e=Object(c.useCallback)((function(e){var n=e.title,r=void 0===n?"":n;t.createTodo(r)}),[t]),n=Object(c.useCallback)((function(e){var n=e.id,r=void 0===n?0:n,c=e.title,a=void 0===c?"":c;t.updateTodo(r,a)}),[t]),a=Object(c.useCallback)((function(e){var n=e.id,r=void 0===n?0:n;t.deleteTodo(r)}),[t]),i=Object(c.useMemo)((function(){return t.fetching?Object(r.jsx)(at,{}):Object(r.jsx)(rt,{data:t.todos,updateTodo:n,deleteTodo:a})}),[t.fetching,t.todos,n,a]);return Object(r.jsx)(ot,{children:Object(r.jsxs)(D.a,{elevation:1,padding:16,background:"white",children:[Object(r.jsx)(D.a,{marginBottom:16,children:Object(r.jsx)(F.a,{size:800,children:"Todo List"})}),Object(r.jsx)(D.a,{marginBottom:16,children:Object(r.jsx)(U,{disabled:t.fetching,onSubmit:e})}),Object(r.jsx)(D.a,{children:i})]})})}));function ut(){var t=Object(z.a)(["\n  display: flex;\n  justify-content: center;\n"]);return ut=function(){return t},t}var dt=E.b.div(ut()),lt=function(){return Object(r.jsxs)(dt,{className:"app",children:[Object(r.jsx)(L,{}),Object(r.jsx)(st,{})]})};i.a.render(Object(r.jsx)(I,{children:Object(r.jsx)(lt,{})}),document.getElementById("root"))}},[[174,1,2]]]);
//# sourceMappingURL=main.fc6accd5.chunk.js.map
(this["webpackJsonpreact-mobx-todo"]=this["webpackJsonpreact-mobx-todo"]||[]).push([[0],{177:function(t,e,n){"use strict";n.r(e);var r=n(4),c=n(0),a=n(25),i=n.n(a),o=n(11),u=n(6),s=n.n(u),d=n(13),l=n(35),f=n(36),b=n(37),j=n(77),h=n(75),p=n(10),O=n(196),v=function(){function t(){Object(l.a)(this,t),this.toaster=O.a}return Object(f.a)(t,[{key:"info",value:function(t){this.toaster.notify(t)}},{key:"success",value:function(t){this.toaster.success(t)}},{key:"warning",value:function(t){this.toaster.warning(t)}},{key:"danger",value:function(t){this.toaster.danger(t)}}]),t}(),m=n(71),x={all:"/todos?userId=1",id:function(t){return"/todos/".concat(t)}},g=1,y=!1,w=n.n(m).a.create({baseURL:"https://jsonplaceholder.typicode.com",timeout:1e4,headers:{"Content-Type":"application/json"}}),k=function(){var t=Object(d.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.get(x.all);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),T=function(){var t=Object(d.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.post(x.all,{title:e,userId:g,completed:y});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),C=function(){var t=Object(d.a)(s.a.mark((function t(e,n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.patch(x.id(e),{title:n});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),S=function(){var t=Object(d.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.delete(x.id(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),I=function(t){Object(j.a)(n,t);var e=Object(h.a)(n);function n(){var t;return Object(l.a)(this,n),(t=e.call(this)).todos=[],t.fetching=!1,Object(p.e)(Object(b.a)(t),{todos:p.f,fetching:p.f,fetchTodos:p.b,createTodo:p.b,updateTodo:p.b,deleteTodo:p.b}),t}return Object(f.a)(n,[{key:"fetchTodos",value:function(){var t=Object(d.a)(s.a.mark((function t(){var e,n,r=this;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.toggleFetching(),t.next=3,k();case 3:e=t.sent,n=e.data,Object(p.g)((function(){r.todos=n})),this.toggleFetching();case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"createTodo",value:function(){var t=Object(d.a)(s.a.mark((function t(e){var n,r,c=this;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T(e);case 3:n=t.sent,r=n.data,Object(p.g)((function(){c.todos=[].concat(Object(o.a)(c.todos),[r])})),this.success("Item added successfully!"),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0),this.danger("Error while adding item!");case 13:case"end":return t.stop()}}),t,this,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},{key:"updateTodo",value:function(){var t=Object(d.a)(s.a.mark((function t(e,n){var r,c,a=this;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C(e,n);case 3:r=t.sent,c=r.data,Object(p.g)((function(){a.todos=a.todos.map((function(t){return t.id===c.id?c:t}))})),this.success("Item updated successfully!"),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0),this.danger("Error while updating item!");case 13:case"end":return t.stop()}}),t,this,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()},{key:"deleteTodo",value:function(){var t=Object(d.a)(s.a.mark((function t(e){var n,r=this;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S(e);case 3:n=this.todos.find((function(t){return t.id===e})),Object(p.g)((function(){r.todos=r.todos.filter((function(t){return t.id!==n.id}))})),this.success("Item deleted successfully!"),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0),this.danger("Error while deleting item!");case 12:case"end":return t.stop()}}),t,this,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},{key:"toggleFetching",value:function(){var t=this;Object(p.g)((function(){t.fetching=!t.fetching}))}}]),n}(v),z=Object(c.createContext)({}),E=new I,B=function(t){var e=t.children;return Object(r.jsx)(z.Provider,{value:{store:E},children:e})},L=n(19),M=n(20);function D(){var t=Object(L.a)(["\n  * {\n      box-sizing: border-box;\n  }\n\n  html {\n    font-size: 16px;\n  }\n\n  body {\n    margin: 0;\n    padding: 1rem;\n    min-height: 100vh;\n    background-color: #fafafa;\n  }\n"]);return D=function(){return t},t}var F=Object(M.a)(D()),A=n(197),J=n(46),R=n(188),q=n(76),N=n(192),P=n(70),U=function(t){return!!t.trim()};function V(){var t=Object(L.a)(["\n  width: 100%;\n"]);return V=function(){return t},t}var X=M.b.form(V()),G=function(t){var e=t.disabled,n=t.onSubmit,a=Object(q.a)({defaultValues:{title:""}}),i=a.register,o=a.handleSubmit,u=a.reset,s=Object(c.useCallback)((function(t){var e=t.title;n({title:void 0===e?"":e}),u({title:""})}),[n,u]);return Object(r.jsx)(X,{onSubmit:o(s),children:Object(r.jsxs)(J.a,{display:"flex",width:"100%",marginBottom:8,children:[Object(r.jsx)(N.a,{name:"title",placeholder:"Enter the task name...",size:400,height:32,width:"100%",disabled:e,ref:i({required:!0,validate:U})}),Object(r.jsx)(P.a,{type:"submit",marginLeft:8,appearance:"primary",disabled:e,children:"Add"})]})})},H=n(21),K=n(50),Q=n(193),W=n(190),Y=n(194),Z=n(195),$=n(198),_=n(199),tt=function(t){var e=t.visible,n=t.deleting,a=t.onConfirm,i=t.onCloseComplete,o=Object(c.useMemo)((function(){return n?"Deliting...":"Delete"}),[n]);return Object(r.jsx)($.a,{children:Object(r.jsx)(_.a,{intent:"danger",title:"Are you sure?",isShown:e,isConfirmDisabled:n,confirmLabel:o,onConfirm:a,onCloseComplete:i,children:"Do you really want to delete this item? This action cannot be undone."})})},et=function(t){var e=t.data,n=t.updateTodo,a=t.deleteTodo,i=Object(c.useState)(e.title),o=Object(H.a)(i,2),u=o[0],s=o[1],d=Object(c.useState)(!1),l=Object(H.a)(d,2),f=l[0],b=l[1],j=Object(c.useState)(!1),h=Object(H.a)(j,2),p=h[0],O=h[1],v=Object(c.useState)(!1),m=Object(H.a)(v,2),x=m[0],g=m[1],y=Object(c.useMemo)((function(){return Object(r.jsx)(K.a,{size:400,children:u})}),[u]),w=Object(c.useMemo)((function(){return Object(r.jsx)(N.a,{value:u,spellCheck:!0,width:"100%",onChange:function(t){s(t.target.value)}})}),[u]),k=Object(c.useMemo)((function(){return f?w:y}),[f,w,y]),T=function(){return O((function(t){return!t}))},C=function(t){g((function(){return t}))};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(Q.a,{display:"flex",alignItems:"center","justify-content":"space-between",border:"default",padding:8,marginBottom:8,children:[Object(r.jsx)(J.a,{display:"flex",flex:"1",children:k}),Object(r.jsxs)(J.a,{display:"flex",marginLeft:8,children:[Object(r.jsx)(W.a,{icon:Y.a,height:24,marginRight:8,onClick:function(){f&&(U(u)?n({id:e.id,title:u}):s(e.title)),b((function(t){return!t}))}}),Object(r.jsx)(W.a,{icon:Z.a,height:24,intent:"danger",onClick:function(){T()}})]})]}),Object(r.jsx)(tt,{visible:p,deleting:x,onConfirm:function(){C(!0),a({id:e.id})},onCloseComplete:function(){T(),C(!1)}})]})};function nt(){var t=Object(L.a)(["\n  list-style: none;\n"]);return nt=function(){return t},t}function rt(){var t=Object(L.a)(["\n  margin: 0;\n  padding: 0;\n"]);return rt=function(){return t},t}var ct=M.b.ul(rt()),at=M.b.li(nt()),it=function(t){var e=t.data,n=t.updateTodo,c=t.deleteTodo;return Object(r.jsx)(ct,{children:e.map((function(t){return Object(r.jsx)(at,{children:Object(r.jsx)(et,{data:t,updateTodo:n,deleteTodo:c})},t.title)}))})},ot=n(178),ut=function(){return Object(r.jsx)(ot.a,{size:32,marginX:"auto"})};function st(){var t=Object(L.a)(["\n  width: 100%;\n  max-width: 500px;\n"]);return st=function(){return t},t}var dt=M.b.section(st()),lt=Object(A.a)((function(){var t=Object(c.useContext)(z).store;Object(c.useEffect)((function(){Object(p.c)((function(){t.fetchTodos()}))}),[t]);var e=Object(c.useCallback)((function(e){var n=e.title,r=void 0===n?"":n;t.createTodo(r)}),[t]),n=Object(c.useCallback)((function(e){var n=e.id,r=void 0===n?0:n,c=e.title,a=void 0===c?"":c;t.updateTodo(r,a)}),[t]),a=Object(c.useCallback)((function(e){var n=e.id,r=void 0===n?0:n;t.deleteTodo(r)}),[t]),i=Object(c.useMemo)((function(){return t.fetching?Object(r.jsx)(ut,{}):Object(r.jsx)(it,{data:t.todos,updateTodo:n,deleteTodo:a})}),[t.fetching,t.todos,n,a]);return Object(r.jsx)(dt,{children:Object(r.jsxs)(J.a,{elevation:1,padding:16,background:"white",children:[Object(r.jsx)(J.a,{marginBottom:16,children:Object(r.jsx)(R.a,{size:800,children:"Todo List"})}),Object(r.jsx)(J.a,{marginBottom:16,children:Object(r.jsx)(G,{disabled:t.fetching,onSubmit:e})}),Object(r.jsx)(J.a,{children:i})]})})}));function ft(){var t=Object(L.a)(["\n  display: flex;\n  justify-content: center;\n"]);return ft=function(){return t},t}var bt=M.b.div(ft()),jt=function(){return Object(r.jsxs)(bt,{className:"app",children:[Object(r.jsx)(F,{}),Object(r.jsx)(lt,{})]})};i.a.render(Object(r.jsx)(B,{children:Object(r.jsx)(jt,{})}),document.getElementById("root"))}},[[177,1,2]]]);
//# sourceMappingURL=main.5425849b.chunk.js.map